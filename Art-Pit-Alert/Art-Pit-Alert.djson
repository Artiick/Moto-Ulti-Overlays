{"Variables":{"DashboardVariables":[{"VariableName":"whenToStop","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":false,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"// Check if it's the first lap (CompletedLaps = 0)\r\nif ($prop(\"CompletedLaps\") == 0) {\r\n    return 46;\r\n}\r\n\r\n// Otherwise check the predicted stop value\r\nvar predictedStop = getsharedvalueordefault('artiick', 'predictedStop', 0);\r\nreturn (predictedStop <= 1) ? 0 : 46;"},"EvaluateBeforeScreenRoles":false},{"VariableName":"predictedStop","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":false,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return getsharedvalueordefault('artiick', 'predictedStop', 0)"},"EvaluateBeforeScreenRoles":false},{"VariableName":"stopDoubleCheck","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":false,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"var stop = $prop(\"variable.predictedStop\") || 0;\r\n\r\nif (stop < 1.05) {\r\n    return 1;\r\n}\r\n\r\nreturn 0;\r\n"},"EvaluateBeforeScreenRoles":false}]},"DashboardDebugManager":{},"Version":2,"Id":"cd82e3ae-c642-423f-82a8-205d5a767f64","BaseHeight":160,"BaseWidth":44,"BackgroundColor":"#FF000000","Screens":[{"RenderingSkip":0,"Name":"Screen","InGameScreen":true,"IdleScreen":true,"PitScreen":false,"ScreenId":"26797f01-3b09-4f18-99c0-ee1d8f4bc721","AllowOverlays":true,"IsForegroundLayer":false,"IsOverlayLayer":false,"OverlayTriggerExpression":{"Expression":""},"ScreenEnabledExpression":{"Expression":""},"OverlayMaxDuration":0,"OverlayMinDuration":0,"IsBackgroundLayer":false,"BackgroundColor":"#00FFFFFF","Items":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":true,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF000000","BorderStyle":{"RadiusTopLeft":5,"RadiusTopRight":5,"RadiusBottomLeft":5,"RadiusBottomRight":5},"Height":160.0,"Left":0.0,"Opacity":35.0,"Top":0.0,"Visible":true,"Width":44.0,"Name":"background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Left":{"Formula":{"Expression":"inertia([variable.whenToStop], 250)"},"Mode":2},"Opacity":{"Formula":{"Expression":"inertia(\r\n\tif(changed(10000, [variable.whenToStop]), \r\n\t35,\r\n\t25\r\n\t), \r\n250)"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.ImageItem, SimHub.Plugins","Image":"pitalert","AutoSize":false,"BackgroundColor":"#00FFFFFF","Height":160.0,"Left":0.0,"Top":0.0,"Visible":true,"Width":44.0,"Name":"pitalert","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Left":{"Formula":{"Expression":"inertia([variable.whenToStop], 250)"},"Mode":2},"Opacity":{"Formula":{"Expression":"inertia(\r\n\tif(changed(10000, [variable.whenToStop]), \r\n\t100,\r\n\t75\r\n\t),\r\n250)"},"Mode":2},"Image":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"return $prop(\"variable.fancyColor\") == 1 ? \"pitalert2\" : \"pitalert\";"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"// Artiick-ver 1.5.8: Pit confirm beep when predictedStop < 1 (but not negative)\r\n\r\n// Get values\r\nvar predictedStop = getsharedvalueordefault('artiick', 'predictedStop', 0);\r\nvar completedLaps = $prop('CompletedLaps');\r\n\r\n// Ignore if session hasn't started\r\nif (completedLaps === 0) {\r\n    return;\r\n}\r\n\r\n// Initialize state\r\nif (typeof globalThis.lastPitBeepPlayed === 'undefined') {\r\n    globalThis.lastPitBeepPlayed = false;\r\n}\r\n\r\n// Only play sound when predictedStop is between 0 and 1 (exclusive), and it hasnâ€™t played already\r\nif (predictedStop > 0 && predictedStop < 1) {\r\n    if (!globalThis.lastPitBeepPlayed) {\r\n        triggeraction('AudioControlPlugin.Play_boxpitconfirm');\r\n        globalThis.lastPitBeepPlayed = true;\r\n    }\r\n} else if (predictedStop >= 1) {\r\n    // Reset flag when we're safely above 1 again\r\n    globalThis.lastPitBeepPlayed = false;\r\n}"},"Mode":2}}}],"Visible":true,"Name":"group","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Opacity":{"Formula":{"Expression":"inertia(\r\n\tif([variable.predictedStop] < 1 or [variable.stopDoubleCheck] = 1,\r\n\t100,\r\n\t0\r\n\t),\r\n250)"},"Mode":2}}}],"MinimumRefreshIntervalMS":0.0}],"SnapToGrid":false,"HideLabels":true,"ShowForeground":true,"ForegroundOpacity":100.0,"ShowBackground":true,"BackgroundOpacity":100.0,"ShowBoundingRectangles":false,"GridSize":10,"Images":[{"Name":"pitalert","Extension":".png","Modified":false,"Optimized":true,"Width":146,"Height":533,"Length":37282,"MD5":"728310a58bf1f07719e0e7106ee215a9"},{"Name":"pitalert2","Extension":".png","Modified":false,"Optimized":true,"Width":146,"Height":533,"Length":38030,"MD5":"7731c615871972e9b63b8b3c8a4cda0b"}],"Metadata":{"ScreenCount":1.0,"InGameScreensIndexs":[0],"IdleScreensIndexs":[0],"MainPreviewIndex":0,"IsOverlay":true,"OverlaySizeWarning":false,"MetadataVersion":2.0,"EnableOnDashboardMessaging":true,"PitScreensIndexs":[],"SimHubVersion":"9.8.1","Title":"Art-Pit-Alert","Author":"Artiick","Width":44.0,"Height":160.0,"DashboardVersion":""},"ShowOnScreenControls":true,"IsOverlay":true,"EnableClickThroughOverlay":true,"EnableOnDashboardMessaging":true,"UseStrictJSIsolation":false,"UseStrictJSIsolationWarning":true}